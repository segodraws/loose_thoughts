<!doctype html>
<html>
<head>
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="https://rawgit.com/intridea/sketch.js/gh-pages/lib/sketch.js"></script>    
<style>
    body{width: 800px;
     margin: 0 auto; background-color: black; }
    h4{text-align: center; position: fixed; color:white; }
    #wrapper{width: 841px;
margin: 0 auto;
positon:relative;}
    #bk,#myCanvas{width: 800px;
     margin: 0 auto; position:absolute;}
</style>
<script>
$(function(){

    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");

    $('#myCanvas').sketch({ defaultColor: "red" });

    $('#download').click(function() {
          var img=document.getElementById('bk');
          ctx.globalCompositeOperation='destination-over';
          ctx.drawImage(bk, 0, 0);
          ctx.globalCompositeOperation='source-over';
          var html="<p></p>";
          html+="<img src='"+c.toDataURL()+"' alt='from canvas'/>";
          var tab=window.open();
          tab.document.write(html);
    });

}); // end $(function(){});
</script>
</head>
<body>
    <h4><img src="http://i.imgur.com/WwQVIyR.png" height="300px" width="300px"/></h4>
    <button id=download>Download</button>
    <div id='wrapper'>
        <img crossOrigin='anonymous' id=bk src='http://i.imgur.com/qqmMND3.jpg'>
        <canvas id="myCanvas" width=800 height=800></canvas>
    </div>
</body>
</html>
